var app = {}; function setTimedInterval(e, t, n) { var i = window.setInterval(e, t); window.setTimeout(function () { window.clearInterval(i) }, n) } function htmlDecode(e) { return $("<div/>").html(e).text() } function jsonEscape(e) { return e.replace(/\n/g, "\\\\n").replace(/\r/g, "\\\\r").replace(/\t/g, "\\\\t") } function setCookie(e, t, n) { var i = ""; if (n) { var o = new Date; o.setTime(o.getTime() + 24 * n * 60 * 60 * 1e3), i = "; expires=" + o.toUTCString() } document.cookie = e + "=" + (t || "") + i + "; path=/" } function clearCookie(e) { document.cookie = e + "=; expires=Thu, 01 Jan 1970 00:00:01 GMT;" } function sendAnalyticsEvent(e, t, n, i) { try { if ("undefined" != typeof UserCookiesManager && UserCookiesManager.isAcceptedCookies() && !UserCookiesManager.isAcceptedPerformance()) return; if ("undefined" == typeof dataLayer) return void log("general.googleAnalytics.sendEvent dataLayer is undefined"); null != e && null != t && (n = null == n ? "" : n.toString(), null == i && (i = ""), dataLayer.push({ event: "GAevent", eventCategory: e, eventAction: t, eventLabel: n, eventValue: i })) } catch (e) { } } function includeJS(e) { $("head").append('<script type="text/javascript" async src="' + e + '"><\/script>') } $.fn.isOnScreen = function () { var e = this.get(0).getBoundingClientRect(); return e.top < window.innerHeight && e.bottom > 0 }, function (e) { e.fn.outside = function (t, n) { return this.each(function () { e(this); var i = this; e(document).on(t, function o(a) { a.target === i || e.contains(i, a.target) || (n.apply(i, [a]), i.parentNode || e(document.body).off(t, o)) }) }) } }(jQuery), function (e) { e.fn.goTo = function () { return e("html, body").animate({ scrollTop: e(this).offset().top + "px" }, "fast"), this } }(jQuery), document.addEventListener("DOMContentLoaded", function () { $("body").on("touchstart", ".tooltip", function () { $(".tooltip").hide() }) }), $("[data-start-trading]").on("click", function () { sendAnalyticsEvent("start-trading", "click", $(this).attr("data-inner")) }), window.addEventListener("load", function () { $("[doc-href]").on("click", function (e) { window.open($(this).attr("doc-href"), $(this).attr("target") ? $(this).attr("target") : "_blank"), e.preventDefault() }) }); var loadedJS = []; function loadJS(e, t, n) { if (loadedJS.indexOf(e) > -1) void 0 !== n && n(); else { var i = document.createElement("script"); i.async = !0, i.src = e, i.addEventListener("load", function () { loadedJS.push(e), void 0 !== n && n() }), t.appendChild(i) } } $(function () { var e = $(".main-menu > ul"); function t() { document.querySelector("body").style.paddingTop = document.querySelector("header").clientHeight + "px" } $(document).on("click", ".mobile-menu-trigger", function () { e.attr("data-height", e.attr("data-height") > 0 ? 0 : e.find("> li").length * e.find("> li").height()).toggleClass("open").height(e.attr("data-height") + "px"), e.removeClass("drill-down").find("li.open").removeClass("open"), $(this).toggleClass("icon-cross2") }), $(document).on("click", ".menu-link", function () { $(this).parent().toggleClass("open").parent().addClass("drill-down"), e.height(e.find("li.open ul").height() + "px") }), $(document).on("click", e.find("li ul a"), function () { void 0 !== $(this).attr("data-page") && (sendAnalyticsEvent("Main Menu", "click", $(this).attr("data-page")), "MarketInsights" === $(this).attr("data-page") && sendAnalyticsEvent("MarketInsights", "click", "Main Menu")) }), $(document).on("click", ".back-link a", function () { e.removeClass("drill-down").find("li.open").toggleClass("open"), e.height(e.attr("data-height") + "px") }), $(document).on("click", ".search-trigger", function () { e.attr("data-height", 0).height("0").removeClass("open").removeClass("drill-down").find("li.open").removeClass("open"), $(".mobile-menu-trigger").removeClass("icon-cross2"), setTimeout(function () { $("#searchInstruments").focus() }, 250) }); var n = "CSS" in window && "supports" in window.CSS, i = "supportsCSS" in window; if (n || i) if (CSS.supports("position", "sticky")) if ("IntersectionObserver" in window) { var o = new IntersectionObserver(function (e, t) { for (var n = 0; n < e.length; n++)1 == e[n].isIntersecting ? $("body").removeClass("is-sticky") : $("body").addClass("is-sticky") }, { root: null, threshhold: 1 }), a = document.querySelector(".sentinal"); a && o.observe(a) } else $("body").addClass("is-sticky"); else $("body").addClass("fixed"), t(), window.addEventListener("resize", function () { t() }); else $("body").addClass("fixed"), t(), window.addEventListener("resize", function () { t() }) }), jQuery.fn.scrollTo = function (e) { var t = $(this)[0].getBoundingClientRect(), n = $(e)[0].getBoundingClientRect(); return t.bottom <= n.bottom ? $(this).scrollTop($(this).scrollTop() + n.height) : t.top > n.top && $(this).scrollTop($(this).scrollTop() - n.height), this };
